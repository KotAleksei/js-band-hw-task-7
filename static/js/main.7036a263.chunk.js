(this["webpackJsonpjs-band-hw-task-6"]=this["webpackJsonpjs-band-hw-task-6"]||[]).push([[0],{31:function(e,t,n){e.exports=n(46)},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(19),i=n.n(a),l=n(23),c=n(12),d=n(7),s=(n(40),n(41),n(11)),u=function(){return r.a.createElement("div",{className:"card-header font-weight-bold"},"ToDo List")},p=function(){return r.a.createElement("div",{className:"card-footer font-weight-bold"},"Aleksei Kotvitskyi")},h=n(8),f=n(13),m=n(14),b=n(16),O=n(15),y=n(3),E=n(17),v=n(2),g=n.n(v);n(42);function j(e){var t=e.items,n=e.dropdownInf,o=e.visibleToggle,a=e.textValue,i=e.handleClick;return r.a.createElement("div",{className:n.open?"dropdownList open":"dropdownList"},r.a.createElement("button",{type:"button",onClick:function(){return o(n)}},a),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e,onClick:i},e)}))))}j.defaultProps={dropdownInf:g.a.shape({open:g.a.bool,name:g.a.string}),handleClick:g.a.func};var w=j,T={searchText:"",priority:"all",completed:"all"},C=function(e){return{type:"EDIT_TODO",payload:{showModal:!0,todo:e}}},k=function(e){return{type:"SHOW_MODAL",payload:{value:e}}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(O.a)(t).call(this))).state={openByDone:{open:!0,name:"openByDone"},openByPriority:{open:!0,name:"openByPriority"}},e.changeVisibleFilters=e.changeVisibleFilters.bind(Object(y.a)(e)),e.handleClick=e.handleClick.bind(Object(y.a)(e)),e.searchByTitle=e.searchByTitle.bind(Object(y.a)(e)),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"changeVisibleFilters",value:function(e){this.setState((function(t){return Object(h.a)({},e.name,D({},t[e.name],{open:!t[e.name].open}))}))}},{key:"handleClick",value:function(e,t){var n=this.props,o=n.setFilters,r=n.filter,a=e.target.innerText;this.setState({filter:r}),o(D({},r,Object(h.a)({},t,a)))}},{key:"searchByTitle",value:function(e){var t=this.props,n=t.setFilters,o=t.filter,r=e.target.value;this.setState({filter:o}),n(D({},o,{searchText:r}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.openByDone,o=t.openByPriority,a=this.props,i=a.handleShowModal,l=a.filter,c=l.priority,d=l.completed;return r.a.createElement("div",{className:"d-flex justify-content-around mt-3"},r.a.createElement("div",null,r.a.createElement("input",{type:"search",placeholder:"search by title",className:"form-control",onChange:this.searchByTitle})),r.a.createElement(w,{items:["all","open","done"],dropdownInf:n,visibleToggle:this.changeVisibleFilters,handleClick:function(t){return e.handleClick(t,"completed")},textValue:d}),r.a.createElement(w,{items:["all","high","normal","low"],dropdownInf:o,visibleToggle:this.changeVisibleFilters,handleClick:function(t){return e.handleClick(t,"priority")},textValue:c}),r.a.createElement("button",{className:"btn btn-dark col-2 p-0",style:{height:"40px"},type:"button",onClick:function(){return i(!0)}},"\u0421reate"))}}]),t}(o.Component),P=Object(d.b)((function(e){return{filter:e.filterTodos}}),(function(e){return{handleShowModal:function(t){return e(k(t))},setFilters:function(t){return e(function(e){return{type:"SET_VISIBILITY_FILTER",payload:{filter:e}}}(t))}}}))(S);n(43);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(b.a)(this,Object(O.a)(t).call(this,e))).state={openByPriority:{name:"openByPriority",open:!0},title:"",description:"",priority:"high",id:null,done:!1},n.visibleToggle=n.visibleToggle.bind(Object(y.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.resetData=n.resetData.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleClick=n.handleClick.bind(Object(y.a)(n)),n.handleCancel=n.handleCancel.bind(Object(y.a)(n)),n}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.editItem;if(t&&e.editItem!==t){var n=t.title,o=t.description,r=t.priority,a=t.id,i=t.done;this.setState({title:n,description:o,priority:r,id:a,done:i})}}},{key:"handleChange",value:function(e){var t="INPUT"===e.target.tagName?"title":"description",n=e.target.value;this.setState(Object(h.a)({},t,n))}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.title,o=t.description,r=t.priority,a=t.done,i=t.id,l={title:n,description:o,priority:r,done:a},c=this.props,d=c.handleShowModal,s=c.creatTodoInComp,u=c.editTodoInComponent,p=c.editItem,h=c.clearEditItemInComponent;e.preventDefault(),p?(u(N({},l,{id:i})),h()):s(l),d(!1),this.resetData()}},{key:"handleCancel",value:function(){(0,this.props.handleShowModal)(!1),this.resetData()}},{key:"handleClick",value:function(e){this.setState({priority:e.target.innerText})}},{key:"resetData",value:function(){this.setState({title:"",description:"",priority:"high",id:null,done:!1})}},{key:"visibleToggle",value:function(e){this.setState((function(t){return Object(h.a)({},e.name,N({},t[e.name],{open:!t[e.name].open}))}))}},{key:"render",value:function(){var e=this.state,t=e.openByPriority,n=e.title,o=e.description,a=e.priority,i=this.props.show;return r.a.createElement("div",{className:i?"modalWindow show":"modalWindow"},r.a.createElement("form",{className:"createTodoContent",onSubmit:this.handleSubmit},r.a.createElement("label",null,"Title:",r.a.createElement("input",{type:"text",placeholder:"Title",title:"please fill this field",className:"form-control",value:n,onChange:this.handleChange,required:!0})),r.a.createElement("label",null,"Description:",r.a.createElement("div",null,r.a.createElement("textarea",{placeholder:"Description",className:"form-control",value:o,onChange:this.handleChange}))),r.a.createElement("p",null,"Priority: "),r.a.createElement(w,{items:["high","normal","low"],dropdownInf:t,visibleToggle:this.visibleToggle,handleClick:this.handleClick,textValue:a}),r.a.createElement("div",{className:"btnGroup"},r.a.createElement("button",{type:"button",className:"btn btn-outline-danger",onClick:this.handleCancel},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-outline-success"},"Save"))))}}]),t}(o.Component);M.defaultProps={editItem:void 0};var x=Object(d.b)((function(e){return{show:e.todos.showModal,editItem:e.todos.editItem}}),(function(e){return{creatTodoInComp:function(t){return e(function(e){return{type:"CREATE_TODO",payload:{showModal:!0,todo:e}}}(t))},editTodoInComponent:function(t){return e(C(t))},handleShowModal:function(t){return e(k(t))},clearEditItemInComponent:function(){return e({type:"CLEAR_EDIT_ITEM",payload:{value:void 0}})}}}))(M),B=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(b.a)(this,Object(O.a)(t).call(this))).state={dropdownOpen:!1},e.handleOpen=e.handleOpen.bind(Object(y.a)(e)),e}return Object(E.a)(t,e),Object(m.a)(t,[{key:"handleOpen",value:function(){this.setState((function(e){return{dropdownOpen:!e.dropdownOpen}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.todo,o=t.editTodoInComponent,a=t.removeTodoInComponent,i=t.toggleTodoInComponent,l=this.state.dropdownOpen;return r.a.createElement("div",{className:"card text-white ".concat(n.done?"bg-success":"bg-secondary","  mb-3 todoItem show")},r.a.createElement("div",{className:"card-header"},n.title),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},n.description)),r.a.createElement("div",{className:"d-flex justify-content-around card-footer"},r.a.createElement("p",null,n.priority),r.a.createElement("div",{className:l?"dropdownEditTodo open":"dropdownEditTodo"},r.a.createElement("button",{type:"button",onClick:this.handleOpen},"..."),r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){i(n.id),e.handleOpen()}},"done"),r.a.createElement("li",{onClick:function(){o(n),e.handleOpen()}},"edit"),r.a.createElement("li",{onClick:function(){a(n.id)}},"delete")))))}}]),t}(o.Component),L=Object(d.b)(null,(function(e){return{editTodoInComponent:function(t){return e(C(t))},toggleTodoInComponent:function(t){return e(function(e){return{type:"TOGGLE_TODO",payload:{id:e}}}(t))},removeTodoInComponent:function(t){return e(function(e){return{type:"REMOVE_TODO",payload:{id:e}}}(t))}}}))(B),V=n(21);var F=function(e,t){var n=Object(V.a)(t);switch(e.completed){case"done":n=n.filter((function(e){return e.done}));break;case"open":n=n.filter((function(e){return!e.done}))}switch(e.priority){case"high":n=n.filter((function(e){return"high"===e.priority}));break;case"normal":n=n.filter((function(e){return"normal"===e.priority}));break;case"low":n=n.filter((function(e){return"low"===e.priority}))}return e.searchText&&(n=n.filter((function(t){return t.title.includes(e.searchText)}))),n.sort((function(e,t){return e.done-t.done}))};n(44);var R=Object(d.b)((function(e){return{todos:e.todos.todos,filter:e.filterTodos}}))((function(e){var t=e.todos,n=e.filter,o=F(n,t);return r.a.createElement("ul",{className:"todoList"},o.map((function(e){return r.a.createElement(L,{key:e.id,todo:e})})))})),A=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,null),r.a.createElement(x,null),r.a.createElement(R,null))};function G(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(A,null),r.a.createElement(p,null))}function U(){return r.a.createElement("h1",null,"Not Found...")}var W=function(){return r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(s.a,{to:"/todos"})),r.a.createElement(s.b,{path:"/todos",component:G}),r.a.createElement(s.b,{path:"*",component:U}))};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J={todos:[],showModal:!1,editItem:void 0},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TODO":return H({},e,{showModal:t.payload.showModal,todos:[].concat(Object(V.a)(e.todos),[H({id:Date.now()},t.payload.todo)])});case"EDIT_TODO":return H({},e,{showModal:t.payload.showModal,editItem:t.payload.todo,todos:e.todos.map((function(e){return e.id===t.payload.todo.id?H({},t.payload.todo):e}))});case"TOGGLE_TODO":return H({},e,{todos:e.todos.map((function(e){return e.id===t.payload.id?H({},e,{done:!e.done}):e}))});case"REMOVE_TODO":return H({},e,{todos:e.todos.filter((function(e){return e.id!==t.payload.id}))});case"SHOW_MODAL":return H({},e,{showModal:t.payload.value});case"CLEAR_EDIT_ITEM":return H({},e,{editItem:t.payload.value});default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.payload.filter;default:return e}},K=Object(c.b)({todos:Y,filterTodos:q}),z=Object(c.c)(K,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(r.a.createElement(d.a,{store:z},r.a.createElement(l.a,{basename:"/"},r.a.createElement(W,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.7036a263.chunk.js.map